<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    @font-face {
        font-family: 'LeferiPoint-WhiteObliqueA';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2201-2@1.0/LeferiPoint-WhiteObliqueA.woff') format('woff');
        font-weight: normal;
        font-style: normal;
    }

    @font-face {
        font-family: 'Cafe24Ssurround';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24Ssurround.woff') format('woff');
        font-weight: normal;
        font-style: normal;
    }


    @font-face {
        font-family: 'Cafe24SsurroundAir';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24SsurroundAir.woff') format('woff');
        font-weight: normal;
        font-style: normal;
    }

    @font-face {
        font-family: 'Cafe24Oneprettynight';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.1/Cafe24Oneprettynight.woff') format('woff');
        font-weight: normal;
        font-style: normal;
    }

    @font-face {
        font-family: 'SDSamliphopangche_Outline';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts-20-12@1.0/SDSamliphopangche_Outline.woff') format('woff');
        font-weight: normal;
        font-style: normal;
    }


    .main {
        width: 1150px;
        justify-content: center;
        align-items: center;
    }

    .top {
        background: purple;
        font-family: 'Cafe24Oneprettynight';
        color: white;
        font-size: 1em;
        height: 30px;
    }

    .top_left {
        display: flex;
        flex-wrap: wrap;
    }

    .blank {
        width: 10px;
    }

    .main_title {
        font-family: 'Cafe24Oneprettynight';
        text-align: right;
        color: white;
        line-height: 50px;
        margin: 0;
        font-size: 1.5em;
        width: 220px;
    }

    .main_container {
        align-items: stretch;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
    }

    .subject {
        align-items: center;
        padding: 0px;
        margin: 0px;
        justify-content: center;
        border: solid 1px #F6F6F6;
        display: flex;
        flex-wrap: nowrap;
        height: 200px;
    }

    .subject_container {
        align-items: center;
        padding: 0px;
        margin: 0px;
        justify-content: center;
        border: solid 1px #F6F6F6;
    }

    .container {
        align-items: center;
        padding: 0px;
        margin: 0px;
        display: flex;
        flex-wrap: nowrap;
        justify-content: center;
        border: solid 1px #F6F6F6;
        height: 200px;

        /* display: inline-flex; */
    }

    .item {
        padding: 5px;
        margin: 5px;
    }

    .item:nth-child(2) {
        width: 210px;
    }

    p {
        margin: 0.2em;
    }

    .sub {
        color: #8D8D8D;
        font-family: 'LeferiPoint-WhiteObliqueA';
    }

    .title {
        font-family: 'Cafe24SsurroundAir';
    }

    .sub_title {
        font-family: 'LeferiPoint-WhiteObliqueA';
        align-items: center;
        justify-content: center;
        border: solid 1px #F6F6F6;
        text-align: center;
        font-size: 0.9em;
        height: 50px;
        display: flex;
        flex-wrap: nowrap;
    }



    .rank {
        font-family: 'SDSamliphopangche_Outline';
        font-size: 1.2em;
    }


    a {

        text-decoration: none;
        text-decoration-line: none;

    }
</style>

<body>

    <div class='top'> </div>


    <div class="main_container">

        <script src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>




        <script>
            $.ajax({
                method: "GET",

                url: "https://myfirstbestseller.herokuapp.com/http://book.interpark.com/api/bestSeller.api?key=539A915AFFCE9EA590A963E64B4E89B905585E1F73CED8C0A2F0235A071182B7&categoryId=100&output=json",

            })
                .done(function (m) {
                    console.log(m);
                    //console.log(msg.documents[0].thumbnail);
                    var today = new Date(m.pubDate);
                    var yesterday = new Date(m.pubDate);
                    var sevenday = new Date(m.pubDate);

                    sevenday.setDate(today.getDate() - 7);
                    yesterday.setDate(today.getDate() - 1);


                    // $("#main_title").append("<strong>" + m.title + "</strong> ");
                    $("#book_period").append("도서 주간 베스트셀러 - 인터파크<br>");
                    $("#book_period").append("(" + sevenday.toLocaleDateString() + " ~ " + yesterday.toLocaleDateString() + ")");
                    // $("#book_period").append("(" + sevenday.toLocaleDateString() + " ~ " + yesterday.toLocaleDateString() + ")");
                    for (i = 0; i < 30; i++) {
                        var pubDate = "" + m.item[i].pubDate + "";
                        pubDate = pubDate.replace(/(\d{4})(\d{2})(\d{2})/g, '$1-$2-$3');
                        $("#book_image" + i).append("<a href='" + m.item[i].link + "' target='_blank'><img src='" + m.item[i].coverSmallUrl + "'></a>");
                        $("#book_contents" + i).append("<p class='title'> " + m.item[i].rank + "위 " + m.item[i].title + "</p>");
                        $("#book_contents" + i).append("<p class='sub'>" + m.item[i].author + "</p>");
                        $("#book_contents" + i).append("<p class='sub'>" + m.item[i].publisher + "</p>");
                        $("#book_contents" + i).append("<p class='sub'>" + pubDate + "</p>");
                    }
                });

            document.write("<div class='subject_container'>")
            document.write("<div class='sub_title' id='book_period'></div>")

            for (i = 0; i < 10; i++) {
                document.write("<div class='subject'>")
                // document.write("<div class='item' id='book_rank" + i + "'> </div>");
                document.write("<div class='item' id='book_image" + i + "'> </div>");
                document.write("<div class='item' id='book_contents" + i + "'> </div>");
                document.write("</div>");
            }
            document.write("</div>");

        </script>



        <script>
            function getToday() {
                var date = new Date();
                var year = date.getFullYear();
                var month = ("0" + (1 + date.getMonth())).slice(-2);
                var day = ("0" + date.getDate()).slice(-2);

                return year + month + day;
            }

            var today = getToday() - 1;
            var today1 = "" + today + ""

            var today1 = today1.replace(/(\d{4})(\d{2})(\d{2})/g, '$1.$2.$3');
            // formatNum = num.replace(/(\d{4})(\d{2})(\d{2})/, '$1-$2-$3');



            $.ajax({
                method: "GET",
                url: "https://kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchDailyBoxOfficeList.json?key=f5eef3421c602c6cb7ea224104795888&targetDt=" + today + "",
            })
                .done(function (m) {
                    console.log(m);


                    $("#movie_period").append("영화 일별박스오피스-영화진흥위원회<br>");
                    $("#movie_period").append("(" + today1 + ")");


                    for (i = 0; i < 10; i++) {


                        function numberWithCommas(x) {
                            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                        }




                        //  $("#movie_image" + i).append("<a href='https://kobis.or.kr/kobis/business/mast/mvie/searchMovieList.do?dtTp=movie&dtCd=" + m.boxOfficeResult.dailyBoxOfficeList[i].movieCd + "' target='_blank'><img src='"+img+"'  style='width:100px; height:126px;'></a>");
                        $("#movie_contents" + i).append("<p class='title'> " + m.boxOfficeResult.dailyBoxOfficeList[i].rank + "위 " + "<a href='https://kobis.or.kr/kobis/business/mast/mvie/searchMovieList.do?dtTp=movie&dtCd=" + m.boxOfficeResult.dailyBoxOfficeList[i].movieCd + "' target='_blank'>" + m.boxOfficeResult.dailyBoxOfficeList[i].movieNm + "</p>");
                        $("#movie_contents" + i).append("<p class='sub'>개봉일자 : " + m.boxOfficeResult.dailyBoxOfficeList[i].openDt + "</p>");
                        //  $("#movie_contents" + i).append("<p class='sub'>일일관객 : " + audiCnt + "(" + audiInten + ")</p>");
                        //$("#movie_contents" + i).append("<p class='sub'>누적관객 : " + audiAcc + "</p>");

                        $("#movie_contents" + i).append("<p class='sub'>일일관객 : " + numberWithCommas(m.boxOfficeResult.dailyBoxOfficeList[i].audiCnt) + "(" + numberWithCommas(m.boxOfficeResult.dailyBoxOfficeList[i].audiInten) + ")</p>");
                        $("#movie_contents" + i).append("<p class='sub'>누적관객 : " + numberWithCommas(m.boxOfficeResult.dailyBoxOfficeList[i].audiAcc) + "</p>");

                    }
                });

            document.write("<div class='subject_container'>")
            document.write("<div class='sub_title' id='movie_period'></div>")
            for (i = 0; i < 10; i++) {
                document.write("<div class='subject'>")
                //  document.write("<div class='item' id='movie_image" + i + "'> </div>");
                document.write("<div class='item' id='movie_contents" + i + "'> </div>");
                document.write("</div>");
            }
            document.write("</div>")


        </script>


        <script>
            function getToday() {
                var date = new Date();
                var year = date.getFullYear();
                var month = ("0" + (1 + date.getMonth())).slice(-2);
                var day = ("0" + date.getDate()).slice(-2);

                return year + month + day;
            }

            var today = getToday() - 1;
            var today1 = "" + today + ""

            var today1 = today1.replace(/(\d{4})(\d{2})(\d{2})/g, '$1.$2.$3');

            $.ajax({
                method: "GET",
                url: "https://imdb-api.com/en/API/BoxOffice/k_3lvmm71q",
            })
                .done(function (m) {
                    console.log(m);
                    $("#box_period").append("미국 박스오피스 - IMDB<br>");
                    $("#box_period").append("(" + today1 + ")");
                    for (i = 0; i < 10; i++) {
                        var box_image = m.items[i].image;
                        console.log(m.items[i].image);
                        $("#box_image" + i).append("<a href='https://www.imdb.com/title/" + m.items[i].id + "' target='_blank'><img src='" + box_image + "' style='width:100px; height:126px;'></a>");
                        $("#box_contents" + i).append("<p class='title'> " + m.items[i].rank + "위 " + m.items[i].title + "</p>");
                        $("#box_contents" + i).append("<p class='sub'>gross : " + m.items[i].gross + "</p>");
                        $("#box_contents" + i).append("<p class='sub'>weekend : " + m.items[i].weekend + "</p>");
                        $("#box_contents" + i).append("<p class='sub'>weeks : " + m.items[i].weeks + "</p>");
                    }
                });

            document.write("<div class='subject_container'>")
            document.write("<div class='sub_title' id='box_period'></div>")
            for (i = 0; i < 10; i++) {
                document.write("<div class='subject'>")
                document.write("<div class='item' id='box_image" + i + "'> </div>");
                document.write("<div class='item' id='box_contents" + i + "'> </div>");
                document.write("</div>");
            }
            document.write("</div>")
        </script>



        <script>

            
                var date = new Date();
                var year = date.getFullYear();
                var month = date.getMonth()+1;
                var day = date.getDate();
                var hours = date.getHours();
                var month1 = ("0" + (1 + date.getMonth())).slice(-2);
                //var day = ("0" + date.getDate()).slice(-2);
               // var hours = ('0' + today.getHours()).slice(-2); 
                
        

            var today = getToday() - 1;
            var today1 = "" + today + ""

            var today1 = today1.replace(/(\d{4})(\d{2})(\d{2})/g, '$1.$2.$3');
            // formatNum = num.replace(/(\d{4})(\d{2})(\d{2})/, '$1-$2-$3');


            $.ajax({
                method: "GET",

                url: "https://xn--o39an51b2re.com/_next/data/QyGK0tF-aZjY_nCaGxGzo/melon/top100/chart.json?year="+year+"&month="+month+"&date="+day+"&hour="+hours+"",

            })
                .done(function (m) {
                    console.log(m);
                    //console.log(msg.documents[0].thumbnail);
                    var today = new Date(m.pubDate);
                    var yesterday = new Date(m.pubDate);
                    var sevenday = new Date(m.pubDate);

                    sevenday.setDate(today.getDate() - 7);
                    yesterday.setDate(today.getDate() - 1);

                    // $("#main_title").append("<strong>" + m.title + "</strong> ");
                    $("#top100_period").append("음원 챠트 - 멜론<br>");
                    $("#top100_period").append("(" + year+"."+ month1+"."+day+"/"+hours+"시)");
                    for (i = 0; i < 10; i++) {

                       // var pubDate = "" + m.item[i].pubDate + "";
                       // pubDate = pubDate.replace(/(\d{4})(\d{2})(\d{2})/g, '$1-$2-$3');

                        // $("#album_rank" + i).append("<p class='rank'>" + m.item[i].rank + "</p>");
                        $("#top100_image" + i).append("<img src=' "+ m.pageProps.data[i].albumimg+"' style='width:100px; height:100px;' >");
                        $("#top100_contents" + i).append("<p class='title'> " + m.pageProps.data[i].currank + "위 </p>");
                        $("#top100_contents" + i).append("<p class='title'> " + m.pageProps.data[i].songname + "</p>");
                        $("#top100_contents" + i).append("<p class='sub'>" + m.pageProps.data[i].artist + "</p>");
                       // $("#top100_contents" + i).append("<p class='sub'>" + m.item[i].publisher + "</p>");
                       // $("#top100_contents" + i).append("<p class='sub'>" + pubDate + "</p>");
                    }
                });


            document.write("<div class='subject_container'>");
            document.write("<div class='sub_title' id='top100_period'></div>")
            for (i = 0; i < 10; i++) {
                document.write("<div class='subject'>")
                document.write("<div class='item' id='top100_image" + i + "'> </div>");
                document.write("<div class='item' id='top100_contents" + i + "'> </div>");
                document.write("</div>");
            }
            document.write("</div>");

        </script>


        <!--

        <script>
            $.ajax({
                method: "GET",

                url: "https://myfirstbestseller.herokuapp.com/http://book.interpark.com/api/bestSeller.api?key=539A915AFFCE9EA590A963E64B4E89B905585E1F73CED8C0A2F0235A071182B7&categoryId=300&output=json",

            })
                .done(function (m) {
                    console.log(m);
                    //console.log(msg.documents[0].thumbnail);
                    var today = new Date(m.pubDate);
                    var yesterday = new Date(m.pubDate);
                    var sevenday = new Date(m.pubDate);

                    sevenday.setDate(today.getDate() - 7);
                    yesterday.setDate(today.getDate() - 1);

                    // $("#main_title").append("<strong>" + m.title + "</strong> ");
                    $("#album_period").append("앨범 주간 판매순위 - 인터파크<br>");
                    $("#album_period").append("(" + sevenday.toLocaleDateString() + " ~ " + yesterday.toLocaleDateString() + ")");
                    for (i = 0; i < 10; i++) {

                        var pubDate = "" + m.item[i].pubDate + "";
                        pubDate = pubDate.replace(/(\d{4})(\d{2})(\d{2})/g, '$1-$2-$3');

                        // $("#album_rank" + i).append("<p class='rank'>" + m.item[i].rank + "</p>");
                        $("#album_image" + i).append("<a href='" + m.item[i].link + "' target='_blank'><img src='" + m.item[i].coverSmallUrl + "'></a>");
                        $("#album_contents" + i).append("<p class='title'> " + m.item[i].rank + "위 " + m.item[i].title + "</p>");
                        $("#album_contents" + i).append("<p class='sub'>" + m.item[i].author + "</p>");
                        $("#album_contents" + i).append("<p class='sub'>" + m.item[i].publisher + "</p>");
                        $("#album_contents" + i).append("<p class='sub'>" + pubDate + "</p>");
                    }
                });


            document.write("<div class='subject_container'>");
            document.write("<div class='sub_title' id='album_period'></div>")
            for (i = 0; i < 10; i++) {
                document.write("<div class='subject'>")
                document.write("<div class='item' id='album_image" + i + "'> </div>");
                document.write("<div class='item' id='album_contents" + i + "'> </div>");
                document.write("</div>");
            }
            document.write("</div>");

        </script>

    -->
        <script>
            $.ajax({
                method: "GET",

                url: "https://myfirstbestseller.herokuapp.com/http://book.interpark.com/api/bestSeller.api?key=539A915AFFCE9EA590A963E64B4E89B905585E1F73CED8C0A2F0235A071182B7&categoryId=400&output=json",

            })
                .done(function (m) {
                    console.log(m);
                    //console.log(msg.documents[0].thumbnail);
                    var today = new Date(m.pubDate);
                    var yesterday = new Date(m.pubDate);
                    var sevenday = new Date(m.pubDate);

                    sevenday.setDate(today.getDate() - 7);
                    yesterday.setDate(today.getDate() - 1);

                    // $("#main_title").append("<strong>" + m.title + "</strong> ");
                    // $("#dvd_period").append("(" + sevenday.toLocaleDateString() + " ~ " + yesterday.toLocaleDateString() + ")");

                    $("#dvd_period").append("DVD 주간 판매순위 - 인터파크<br>");
                    $("#dvd_period").append("(" + sevenday.toLocaleDateString() + " ~ " + yesterday.toLocaleDateString() + ")");

                    for (i = 0; i < 10; i++) {

                        var pubDate = "" + m.item[i].pubDate + "";
                        pubDate = pubDate.replace(/(\d{4})(\d{2})(\d{2})/g, '$1-$2-$3');

                        // $("#album_rank" + i).append("<p class='rank'>" + m.item[i].rank + "</p>");
                        $("#dvd_image" + i).append("<a href='" + m.item[i].link + "' target='_blank'><img src='" + m.item[i].coverSmallUrl + "' style='width:100px; height:126px;'></a>");
                        $("#dvd_contents" + i).append("<p class='title'> " + m.item[i].rank + "위 " + m.item[i].title + "</p>");
                        $("#dvd_contents" + i).append("<p class='sub'>" + m.item[i].author + "</p>");
                        $("#dvd_contents" + i).append("<p class='sub'>" + m.item[i].publisher + "</p>");
                        $("#dvd_contents" + i).append("<p class='sub'>" + pubDate + "</p>");
                    }
                });


            document.write("<div class='subject_container'>");
            document.write("<div class='sub_title' id='dvd_period'></div>")
            for (i = 0; i < 10; i++) {
                document.write("<div class='subject'>")
                document.write("<div class='item' id='dvd_image" + i + "'> </div>");
                document.write("<div class='item' id='dvd_contents" + i + "'> </div>");
                document.write("</div>");
            }
            document.write("</div>");

        </script>



    </div>



</body>

</html>